(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,n,t){},70:function(e,n,t){},72:function(e,n,t){"use strict";t.r(n);var i=t(1),a=t.n(i),c=t(32),o=t.n(c),l=(t(38),t(7)),r=t(33),s=t.n(r),d="https://ur-io.herokuapp.com/";console.log(d);var j=s()(d),u=function(){j.emit("newGame")},b=function(e){j.emit("joinGame",e)},h=function(e,n){j.emit("tokenClick",e,n)},m=function(e,n){j.emit("tokenHover",e,n)},g=function(){j.emit("rollDice")},v=function(){j.emit("reset")},O=function(){j.emit("leaveGame")},f=(t(70),t.p+"static/media/face_black_24dp.286f1073.svg"),x=t(0),p=function(e){var n=e.createNewGame,t=e.joinGame,a=e.children,c=Object(i.useState)(""),o=Object(l.a)(c,2),r=o[0],s=o[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{className:"landing-header centering drop-shadow",children:Object(x.jsxs)("div",{className:"header-text",children:["Ur.io",Object(x.jsx)("div",{className:"header-subtext",children:"A game with friends"})]})}),a,Object(x.jsxs)("div",{className:"session-buttons",children:[Object(x.jsx)("div",{className:"top-left",children:Object(x.jsx)("button",{className:"landing-button new-game-btn drop-shadow",onClick:n,children:"New Game"})}),Object(x.jsx)("div",{className:"top-right",children:Object(x.jsx)("img",{className:"face-img drop-shadow",src:f,alt:"logo"})}),Object(x.jsx)("div",{className:"bottom-left",children:Object(x.jsx)("button",{className:"landing-button join-game-btn drop-shadow",onClick:t.bind(null,r),children:"Join Game"})}),Object(x.jsx)("div",{className:"bottom-right",children:Object(x.jsxs)("div",{className:"input-bkground drop-shadow",children:[Object(x.jsx)("h2",{children:"ENTER GAME CODE:"}),Object(x.jsx)("input",{className:"game-code-input",onChange:function(e){var n=e.target;s(n.value),console.log(n.value)}})]})})]})]})},k=function(e){var n=e.roomID,t=e.children;return Object(x.jsxs)(x.Fragment,{children:[t,Object(x.jsx)("div",{"data-testid":"waiting-room",className:"waiting-header",children:"Waiting for partner"}),Object(x.jsxs)("span",{className:"waiting-room",children:[Object(x.jsx)("div",{children:"Game code:"}),Object(x.jsx)("span",{"data-testid":"roomID",className:"roomID",children:n})]})]})},N=function(e){var n=e.playerID;return Object(x.jsx)("div",{className:"player-".concat(n,"-token")})},y=function(e){var n=e.player,t=e.onClick,i=e.onHover;return console.log(n),Object(x.jsx)("div",{className:"player".concat(n.id,"Start"),onClick:t.bind(null,n.id,-1),onMouseEnter:i.bind(null,n.id,-1),onMouseLeave:i.bind(null,null,null),children:n.tokens.filter((function(e){return-1===e})).map((function(e){return Object(x.jsx)(N,{playerID:n.id},Math.random())}))})},T=function(e){var n=e.player,t=e.gameWinners,i=function(e,n){var t=0;return n.forEach((function(n){n===e&&t++})),t}(n.id,t);return Object(x.jsxs)("p",{className:"Player".concat(n.id,"Wins"),children:["Wins: ",i]})},C=function(e){var n=e.player,t=e.activePlayer,i=e.gameWinners;return Object(x.jsxs)("div",{className:"player".concat(n.id,"Score\n      "),children:[Object(x.jsx)("div",{className:"".concat(n.id===(null===t||void 0===t?void 0:t.id)?"active":""),children:n.score}),Object(x.jsx)(T,{player:n,gameWinners:i})]})},G=function(e){var n=e.oc,t=e.token,i=e.type,a=e.index,c=e.handleTokenClick,o=e.handleTokenHover,l=a===e.highlightedTile?"highlighted ":"";switch(i){case"normal":l+=a%2===0?"tile-style-1":"tile-style-0";break;case"rosette":l+="rosette";break;case"goal":l+="goal"}return Object(x.jsx)("div",{className:"".concat(l," centering"),onClick:c.bind(null,n,t),onMouseEnter:o.bind(null,n,t),onMouseLeave:o.bind(null,null,null),children:null!==n?Object(x.jsx)(N,{playerID:n}):Object(x.jsx)("div",{})})},w=function(e){var n=e.tiles,t=e.handleTokenClick,i=e.handleTokenHover,a=e.highlightedTile;return console.log(a),Object(x.jsx)("div",{className:"board",children:n.map((function(e,n){return Object(x.jsx)(G,{oc:e.oc,type:e.type,index:n,token:e.token,handleTokenClick:t,handleTokenHover:i,highlightedTile:a},n)}))})},S=function(e){var n=e.notification,t=e.gridPlacement,a=void 0===t?"top-center":t,c=Object(i.useState)("notification-panel"),o=Object(l.a)(c,2),r=o[0],s=o[1],d=Object(i.useRef)("");return Object(i.useEffect)((function(){n!==d.current?(s("notification-panel-active"),d.current=n,setTimeout((function(){s("notification-panel")}),1e3)):s("notification-panel")}),[n]),Object(x.jsx)("div",{className:"".concat(r," centering"),style:{gridArea:"".concat(a)},children:n})},D=function(e){var n=e.leaveGame;return Object(x.jsx)("div",{className:"centering",children:Object(x.jsxs)("button",{className:"button centering",onClick:n,children:[Object(x.jsx)("span",{className:"material-icons leave-icon",children:"logout"}),"Leave Room"]})})},I=function(e){var n=e.gameState,t=e.handleTokenClick,i=e.handleTokenHover,a=e.highlightedTile,c=e.rollDice,o=e.resetGame,l=e.notification,r=e.leaveGame;return n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(D,{leaveGame:r}),Object(x.jsx)(y,{player:n.players[0],onClick:t,onHover:i}),Object(x.jsx)(C,{activePlayer:n.activePlayer,player:n.players[0],gameWinners:n.gameWinners}),Object(x.jsx)(S,{notification:l}),Object(x.jsx)(w,{tiles:n.board,handleTokenClick:t,handleTokenHover:i,highlightedTile:a}),Object(x.jsxs)("div",{className:"game-buttons",children:[Object(x.jsx)("button",{className:"gameOver"!==n.phase?"game-button":"invisible",onClick:c,children:"rolling"!==n.phase?n.rollVal:"Roll"}),Object(x.jsx)("button",{className:"gameOver"!==n.phase?"invisible":"game-button",onClick:o,children:"New Game"})]}),Object(x.jsx)(y,{player:n.players[1],onClick:t,onHover:i}),Object(x.jsx)(C,{activePlayer:n.activePlayer,player:n.players[1],gameWinners:n.gameWinners})]}):Object(x.jsx)("div",{children:"Error: No State"})},E=function(e){var n,t=e.gameState,i=e.roomID,a=e.notification,c=e.highlightedTile;return t||i?!t&&i?n=Object(x.jsxs)(k,{roomID:i,children:[Object(x.jsx)(D,{leaveGame:O}),Object(x.jsx)(S,{notification:a})]}):t&&i&&(n=Object(x.jsx)(I,{notification:a,gameState:t,handleTokenClick:h,handleTokenHover:m,highlightedTile:c,rollDice:g,resetGame:v,leaveGame:O})):n=Object(x.jsx)(p,{createNewGame:u,joinGame:b,children:Object(x.jsx)(S,{notification:a,gridPlacement:"bottom-center"})}),Object(x.jsx)(x.Fragment,{children:n})};var H=function(){var e=Object(i.useState)(null),n=Object(l.a)(e,2),t=n[0],a=n[1],c=Object(i.useState)(""),o=Object(l.a)(c,2),r=o[0],s=o[1],d=Object(i.useState)(""),u=Object(l.a)(d,2),b=u[0],h=u[1],m=Object(i.useState)(null),g=Object(l.a)(m,2),v=g[0],O=g[1];Object(i.useEffect)((function(){j.on("roomID",(function(e){s(e)})),j.on("init",(function(e){f(e)})),j.on("updateState",(function(e){console.log(e),f(e)})),j.on("notification",(function(e){var n=e.msg;h(n)})),j.on("tileHighlight",(function(e){O(e)}))}),[]);var f=function(e){a(e),O(null)};return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(E,{gameState:t,roomID:r,notification:b,highlightedTile:v})})},P=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,73)).then((function(n){var t=n.getCLS,i=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),i(e),a(e),c(e),o(e)}))};o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById("root")),P()}},[[72,1,2]]]);
//# sourceMappingURL=main.de4f954e.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,n,t){},70:function(e,n,t){},72:function(e,n,t){"use strict";t.r(n);var i=t(1),c=t.n(i),a=t(32),o=t.n(a),l=(t(38),t(7)),r=t(33),s=t.n(r)()("https://arcane-hamlet-16155.herokuapp.com/"),d=function(){s.emit("newGame")},j=function(e){s.emit("joinGame",e)},u=function(e,n){s.emit("tokenClick",e,n)},b=function(e,n){s.emit("tokenHover",e,n)},h=function(){s.emit("rollDice")},m=function(){s.emit("reset")},g=function(){s.emit("leaveGame")},v=(t(70),t.p+"static/media/face_black_24dp.286f1073.svg"),O=t(0),f=function(e){var n=e.createNewGame,t=e.joinGame,c=e.children,a=Object(i.useState)(""),o=Object(l.a)(a,2),r=o[0],s=o[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{className:"landing-header centering drop-shadow",children:Object(O.jsx)("div",{className:"header-text",children:"Game of Ur (with friends)"})}),c,Object(O.jsxs)("div",{className:"session-buttons",children:[Object(O.jsx)("div",{className:"top-left",children:Object(O.jsx)("button",{className:"landing-button new-game-btn drop-shadow",onClick:n,children:"New Game"})}),Object(O.jsx)("div",{className:"top-right",children:Object(O.jsx)("img",{className:"face-img drop-shadow",src:v,alt:"logo"})}),Object(O.jsx)("div",{className:"bottom-left",children:Object(O.jsx)("button",{className:"landing-button join-game-btn drop-shadow",onClick:t.bind(null,r),children:"Join Game"})}),Object(O.jsx)("div",{className:"bottom-right",children:Object(O.jsxs)("div",{className:"input-bkground drop-shadow",children:[Object(O.jsx)("h2",{children:"ENTER GAME CODE:"}),Object(O.jsx)("input",{className:"game-code-input",onChange:function(e){var n=e.target;s(n.value),console.log(n.value)}})]})})]})]})},x=function(e){var n=e.roomID,t=e.children;return Object(O.jsxs)(O.Fragment,{children:[t,Object(O.jsx)("div",{className:"waiting-header",children:"Waiting for partner"}),Object(O.jsxs)("span",{className:"waiting-room",children:[Object(O.jsx)("div",{children:"Game code:"}),Object(O.jsx)("span",{className:"roomID",children:n})]})]})},p=function(e){var n=e.playerID;return Object(O.jsx)("div",{className:"player-".concat(n,"-token")})},k=function(e){var n=e.player,t=e.onClick,i=e.onHover;return console.log(n),Object(O.jsx)("div",{className:"player".concat(n.id,"Start"),onClick:t.bind(null,n.id,-1),onMouseEnter:i.bind(null,n.id,-1),onMouseLeave:i.bind(null,null,null),children:n.tokens.filter((function(e){return-1===e})).map((function(e){return Object(O.jsx)(p,{playerID:n.id},Math.random())}))})},N=function(e){var n=e.player,t=e.gameWinners,i=function(e,n){var t=0;return n.forEach((function(n){n===e&&t++})),t}(n.id,t);return Object(O.jsxs)("p",{className:"Player".concat(n.id,"Wins"),children:["Wins: ",i]})},y=function(e){var n=e.player,t=e.activePlayer,i=e.gameWinners;return Object(O.jsxs)("div",{className:"player".concat(n.id,"Score\n      "),children:[Object(O.jsx)("div",{className:"".concat(n.id===(null===t||void 0===t?void 0:t.id)?"active":""),children:n.score}),Object(O.jsx)(N,{player:n,gameWinners:i})]})},T=function(e){var n=e.oc,t=e.token,i=e.type,c=e.index,a=e.handleTokenClick,o=e.handleTokenHover,l=c===e.highlightedTile?"highlighted ":"";switch(i){case"normal":l+=c%2===0?"tile-style-1":"tile-style-0";break;case"rosette":l+="rosette";break;case"goal":l+="goal"}return Object(O.jsx)("div",{className:"".concat(l," centering"),onClick:a.bind(null,n,t),onMouseEnter:o.bind(null,n,t),onMouseLeave:o.bind(null,null,null),children:null!==n?Object(O.jsx)(p,{playerID:n}):Object(O.jsx)("div",{})})},C=function(e){var n=e.tiles,t=e.handleTokenClick,i=e.handleTokenHover,c=e.highlightedTile;return console.log(c),Object(O.jsx)("div",{className:"board",children:n.map((function(e,n){return Object(O.jsx)(T,{oc:e.oc,type:e.type,index:n,token:e.token,handleTokenClick:t,handleTokenHover:i,highlightedTile:c},n)}))})},G=function(e){var n=e.notification,t=e.gridPlacement,c=void 0===t?"top-center":t,a=Object(i.useState)("notification-panel"),o=Object(l.a)(a,2),r=o[0],s=o[1],d=Object(i.useRef)("");return Object(i.useEffect)((function(){n!==d.current?(s("notification-panel-active"),d.current=n,setTimeout((function(){s("notification-panel")}),1e3)):s("notification-panel")}),[n]),Object(O.jsx)("div",{className:"".concat(r," centering"),style:{gridArea:"".concat(c)},children:n})},w=function(e){var n=e.leaveGame;return Object(O.jsx)("div",{className:"centering",children:Object(O.jsxs)("button",{className:"button centering",onClick:n,children:[Object(O.jsx)("span",{className:"material-icons leave-icon",children:"logout"}),"Leave Room"]})})},S=function(e){var n=e.gameState,t=e.handleTokenClick,i=e.handleTokenHover,c=e.highlightedTile,a=e.rollDice,o=e.resetGame,l=e.notification,r=e.leaveGame;return n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(w,{leaveGame:r}),Object(O.jsx)(k,{player:n.players[0],onClick:t,onHover:i}),Object(O.jsx)(y,{activePlayer:n.activePlayer,player:n.players[0],gameWinners:n.gameWinners}),Object(O.jsx)(G,{notification:l}),Object(O.jsx)(C,{tiles:n.board,handleTokenClick:t,handleTokenHover:i,highlightedTile:c}),Object(O.jsxs)("div",{className:"game-buttons",children:[Object(O.jsx)("button",{className:"gameOver"!==n.phase?"game-button":"invisible",onClick:a,children:"rolling"!==n.phase?n.rollVal:"Roll"}),Object(O.jsx)("button",{className:"gameOver"!==n.phase?"invisible":"game-button",onClick:o,children:"New Game"})]}),Object(O.jsx)(k,{player:n.players[1],onClick:t,onHover:i}),Object(O.jsx)(y,{activePlayer:n.activePlayer,player:n.players[1],gameWinners:n.gameWinners})]}):Object(O.jsx)("div",{children:"Error: No State"})},D=function(e){var n,t=e.gameState,i=e.roomID,c=e.notification,a=e.highlightedTile;return t||i?!t&&i?n=Object(O.jsxs)(x,{roomID:i,children:[Object(O.jsx)(w,{leaveGame:g}),Object(O.jsx)(G,{notification:c})]}):t&&i&&(n=Object(O.jsx)(S,{notification:c,gameState:t,handleTokenClick:u,handleTokenHover:b,highlightedTile:a,rollDice:h,resetGame:m,leaveGame:g})):n=Object(O.jsx)(f,{createNewGame:d,joinGame:j,children:Object(O.jsx)(G,{notification:c,gridPlacement:"bottom-center"})}),Object(O.jsx)(O.Fragment,{children:n})};var E=function(){var e=Object(i.useState)(null),n=Object(l.a)(e,2),t=n[0],c=n[1],a=Object(i.useState)(""),o=Object(l.a)(a,2),r=o[0],d=o[1],j=Object(i.useState)(""),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(i.useState)(null),g=Object(l.a)(m,2),v=g[0],f=g[1];Object(i.useEffect)((function(){s.on("roomID",(function(e){d(e)})),s.on("init",(function(e){x(e)})),s.on("updateState",(function(e){console.log(e),x(e)})),s.on("notification",(function(e){var n=e.msg;h(n)})),s.on("tileHighlight",(function(e){f(e)}))}),[]);var x=function(e){c(e),f(null)};return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(D,{gameState:t,roomID:r,notification:b,highlightedTile:v})})},H=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,73)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),i(e),c(e),a(e),o(e)}))};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(E,{})}),document.getElementById("root")),H()}},[[72,1,2]]]);
//# sourceMappingURL=main.d6dffbfe.chunk.js.map